

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Information for Developers &mdash; SlicerPRISMRendering  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logoPRISMRenderingHTMLfavicon.png"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Code documentation" href="code.html" />
    <link rel="prev" title="Panels and their use" href="panels.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SlicerPRISMRendering
          

          
            
            <img src="_static/logoPRISMRenderingHTML.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">General Informations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="panels.html">Panels and their use</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Information for Developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-tos">How Tos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-shader">Create a shader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#float">Float</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integer">Integer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#point">Point</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boolean">Boolean</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range">Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer-functions">Transfer functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#volume">Volume</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code.html">Code documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SlicerPRISMRendering</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Information for Developers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/developers.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="information-for-developers">
<h1>Information for Developers<a class="headerlink" href="#information-for-developers" title="Permalink to this headline">¶</a></h1>
<p>See <a class="reference external" href="https://githubcomets-vis-interactiveSlicerPRISMRenderingrendering.readthedocs.io/en/latest/code.html">this page</a> for the full code documentation.</p>
<p><a name="howto"></a></p>
<div class="section" id="how-tos">
<h2>How Tos<a class="headerlink" href="#how-tos" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-shader">
<h3>Create a shader<a class="headerlink" href="#create-a-shader" title="Permalink to this headline">¶</a></h3>
<p>Each of the volume rendering techniques is containted into one Python file and the GLSL code must be specified in the <code class="docutils literal notranslate"><span class="pre">setupShader()</span></code> method of the class.
This code must be written as a string which is transmitted to the shader carrying out the volume rendering by using the vtk shader modification classes <a class="reference external" href="https://vtk.org/doc/nightly/html/classvtkUniforms.html">vtkUniforms</a> and <a class="reference external" href="https://vtk.org/doc/nightly/html/classvtkShaderProperty.html">vtkShaderProperty</a>. These strings replace on the fly tags in the format //VTK::SomeConcept::SomeAction in a shader template file. There is a defined list of tags that are suitable for different uses and the appropriate tag for the part of code you want to change in the shader must be specified in the Python class, as well as with the character string containing the code to replace. A more complete description of these tags can be found <a class="reference external" href="https://kitware.github.io/vtk-js/api/Rendering_OpenGL_glsl.html">here</a>. This is done in the following form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">replacement_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;GLSL code&quot;&quot;&quot;</span>
<span class="n">shader</span><span class="o">.</span><span class="n">AddFragmentShaderReplacement</span> <span class="p">(</span><span class="s2">&quot;//VTK::SomeConcept::SomeAction&quot;</span><span class="p">,</span> <span class="n">replacement_code</span><span class="p">)</span>
</pre></div>
</div>
<p>Multiple tags can be used for one shader and they should all be specified in the <code class="docutils literal notranslate"><span class="pre">setupShader()</span></code> method.</p>
<p>All of the uniforms variables of the shader must be specified after the class declaration. There are 7 types of variables that can be added to the shader and they must respect this format, where &lt;name&gt; is the name used in the shader and &lt;display name&gt; is the name displayed in the UI :</p>
<div class="section" id="float">
<h4>Float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shaderfParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">minimum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">maximum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;defaultValue&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">default</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="integer">
<h4>Integer<a class="headerlink" href="#integer" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shaderiParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">minimum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">maximum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;defaultValue&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">default</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="point">
<h4>Point<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shader4fParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;displayName&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;defaultValue&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">x</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">y</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">z</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">w</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">}},</span> \
                   <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                    <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="boolean">
<h4>Boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shaderbParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;defaultValue&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">default</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;optionalWidgets&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">name</span> <span class="n">of</span> <span class="n">optional</span> <span class="n">parameter</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="range">
<h4>Range<a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shaderrParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;defaultValue&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">minimum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">maximum</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">]},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="transfer-functions">
<h4>Transfer functions<a class="headerlink" href="#transfer-functions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shadertfParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;defaultColors&#39;</span> <span class="p">:</span> <span class="p">[[</span><span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">x</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">red</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">green</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">blue</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">midpoint</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">midpoint</span> <span class="n">s</span> <span class="n">Sharpness</span> <span class="n">value</span><span class="o">&gt;</span> <span class="k">if</span> <span class="n">color</span><span class="p">;</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">x</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">opacity</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">midpoint</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">First</span> <span class="n">point</span> <span class="n">midpoint</span> <span class="n">s</span> <span class="n">sharpness</span> <span class="n">value</span><span class="o">&gt;</span> <span class="k">if</span> <span class="n">scalar</span> <span class="n">opacity</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;&#39;</span><span class="n">color</span><span class="s1">&#39; or &#39;</span><span class="n">scalarOpacity</span><span class="s1">&#39;&gt;&#39;</span><span class="p">},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
<p>If the original values of the volume are to be keeped, the ‘defaultColors’ must be defined as : <code class="docutils literal notranslate"><span class="pre">'defaultColors'</span> <span class="pre">:</span> <span class="pre">[]</span> </code>.
Each volume can only have one of each (color and opacity) transfer functions.
This parameter controls the two transfer functions of the principal volume.</p>
</div>
<div class="section" id="volume">
<h4>Volume<a class="headerlink" href="#volume" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shadervParams</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;displayName&#39;</span> <span class="p">:</span> <span class="s1">&#39;&lt;display name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;defaultVolume&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="nb">id</span> <span class="n">of</span> <span class="n">the</span> <span class="n">volume</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;transferFunctions&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">transfer</span> <span class="n">functions</span><span class="o">&gt;</span><span class="p">}},</span> \
                  <span class="s1">&#39;&lt;name&gt;&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="o">...</span><span class="p">},</span> \
                   <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
<p>If mutliple volumes are needed, make sure that the ids are differents. By default, you should use 1, 2, 3, … as ids. If no transfer function are defined, the default ones of the volume will be used.</p>
<p><a name="lim"></a></p>
</div>
</div>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="code.html" class="btn btn-neutral float-right" title="Code documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="panels.html" class="btn btn-neutral float-left" title="Panels and their use" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tiphaine RICHARD

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>